<!DOCTYPE html>
<html>

<script src= "http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js">
</script>

<body ng-app="MinaApp" ng-controller="validCtrl" >
<div>
<h2>Mina</h2>
</div>
<br/>
<br/>

      <form action="" name="theForm">
	    <div>
	    <table>
	  <tr>
	  
	  <td>Name:&nbsp;</td> <td><input type="text" name="thename" ng-model="thename" required>
	   <span style="color:red" ng-show="theForm.thename.$dirty && theForm.thename.$invalid">
	   <span ng-show="theForm.thename.$error.required">Name is required.</span>
	   </span>
	  </td>
	  </tr>
	  
	  <tr>
	  <td>Surname: </td><td><input type="text" name="surname" ng-model="surname" required>
	   <span style="color:red" ng-show="theForm.surname.$dirty && theForm.surname.$invalid">
	   <span ng-show="theForm.surname.$error.required">Surname is required.</span>
	   </span>
	   </td>
	  </tr>

	  <tr>
	  <td>Age    : </td> <td><input type="number" name="age" ng-model="age">
	   <span style="color:red" ng-show="theForm.age.$invalid">
	   <span ng-show="theForm.age.$error.required">Age is invalid</span>
	   </span>
	   </td>
	  </tr>

	  <tr>
	  <td>Username: </td><td><input type="text" name="user" ng-model="user" required>
	   <span style="color:red" ng-show="theForm.user.$dirty && theForm.user.$invalid">
	   <span ng-show="theForm.user.$error.required">Username is required.</span>
	   </span>
	   </td>
	  </tr>

	  <tr>
	  <td>Password: </td><td><input type="password" name="passwd" ng-model="passwd" required>
	  <span style="color:red" ng-show="theForm.passwd.$dirty">
	  <span ng-show="theForm.passwd.$error.required">Password is required.</span>
	  </span>
	  </td>
	  </tr>
	  
	  <tr>
	  <td>Retype Password: </td><td><input type="password" name="passwd2" ng-model="passwd2" required>
	  <span style="color:red" ng-show="theForm.passwd2.$dirty">
	  <span ng-show="theForm.passwd2.$error.required">Password is required.</span>
	  </span>
	  </td>
	  </tr>

	  </table>
	  <button type="submit" ng-disabled="error||incomplete" > <!--"theForm.user.$dirty && theForm.user.$invalid ||
	  theForm.passwd.$dirty" 9999 || theForm.passwd.$dirty"> -->
	  Sign In
	  </button>
	    </div>
      </form>

      <script>
	  var app = angular.module('MinaApp', []);
	  app.controller('validCtrl', function($scope) {
	      $scope.user = 'John Doe';
	      //$scope.email = 'john.doe@gmail.com';
	      $scope.passw1 = '';
	      $scope.passw2 = '';
	      $scope.thename = '';
              $scope.surname = '';
	      $scope.edit = true;
	      $scope.error = false;
	      $scope.incomplete = false;
	      
              $scope.$watch('thename',function() {$scope.test();});
	      $scope.$watch('surname',function() {$scope.test();});
              $scope.$watch('user',function() {$scope.test();});
	
	      $scope.$watch('passw1',function() {$scope.test();});
	      $scope.$watch('passw2',function() {$scope.test();});
	      
	      $scope.test = function() {
	      if ($scope.passw1 !== $scope.passw2) {
		  $scope.error = true;
	      } else {
		      $scope.error = false;
	      }
	      $scope.incomplete = false;
	      if( !($scope.thename.length > 0) ||
		 !($scope.surname.length > 0) || !($scope.user.length > 0)   || !($scope.passw1.length > 0) || !($scope.passw2.length > 0) )
		 {
			$scope.incomplete = true;
		 }
	      }
	  });
	   
      </script>

</body>
</html>